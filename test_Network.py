import networkx as nx
import numpy as np
import matplotlib.pyplot as plt
G=nx.Graph()

#color
fig,ax = plt.subplots()
cm = plt.cm.get_cmap('RdYlBu_r')
cm1 = plt.cm.get_cmap('Greys')
# row=np.array([1,24,2,25,2,3,2,3,4,26,4,5,5,5,6,6,7,20,7,7,0,8,23,8,9,16,9,9,10,38,39,10,11,27,11,12,28,13,29,30,14,31,32,15,33,34,35,36,2,37,2,3,2,3,4,5,5,6,7,20,7,41,42,43])
row=np.array([ii for ii in range(64)])
col=np.array([2,30,1,32,7,2,34,8,3,35,1,4,10,11,1,7,2,16,8,12,3,17,9,33,4,8,10,14,5,9,31,0,5,10,15,7,13,8,32,14,9,13,35,10,11,14,2,6,8,12,31,7,1,13,4,0,1,19,5,0,2,5,0,6])
value=np.array([0.830662859,0.76557883,0.34856477,0.65276874,0.3050114,0.56812521,0.615976866,0.166110907,0.243977276,0.34719714,0.54861118,0.65808871,0.039043542,0.58437946,0.601259502,0.331377311,0.65198946,0.320123471,0.62723931,0.119581776,0.176017797,0.038956472,0.387752157,0.247796397,0.06440725,0.393122237,0.090482266,0.243173972,0.027263426,0.100215075,0.341195674,0.056683016,0.026823451,0.315617694,0.062374324,0.079891108,0.021463222,0.239695667,0.002095218,0.167027081,0.208919576,0.159271326,0.061775297,0.055081582,0.077116704,0.050641085,0.3050114,0.056812521,0.0215976866,0.166110907,0.0243977276,0.034719714,0.054861118,0.055808871,0.039043542,0.058437946,0.101259502,0.0331377311,0.25198946,0.0320123471,0.056557883,0.034856477,0.025276874,0.03050114])
 
#for i in range(1,16):
    #G.add_node(i)
#
# print(len(row),len(col))
for j in range(len(row)):
    G.add_weighted_edges_from([(row[j],col[j],value[j])])#边的起点，终点，权重
    
#
print(G.edges())
pos = [(-2.92,1.08),(-1.98,1.04),(-1.,1.02),(0,1),(1,1.02),(1.98,1.04),(2.92,1.08),(-3.,0),(-2,0),(-1,0),(0,0),(1,0),(2,0),(3,0),(-2.92,-1.08),(-1.98,-1.04),(-1.,-1.02),(0,-1),(1,-1.02),(1.98,-1.04),(2.92,-1.08),(-1.3,3.8),(0,4),(1.3,3.8),(-2.4,3.15),(-1.5,3),(0,3),(1.5,3),(2.4,3.15),(-3.3,2.37),(-2.6,2.25),(-1.7,2.15),(-0.85,2.07),(0,2),(0.85,2.07),(1.7,2.15),(2.6,2.25),(3.3,2.37),(-3.85,1.13),(3.85,1.13),(-4,0),(4,0),(-5,0),(5,0),(-3.85,-1.13),(3.85,-1.13),(-3.3,-2.37),(-2.6,-2.25),(-1.7,-2.15),(-0.85,-2.07),(0,-2),(0.85,-2.07),(1.7,-2.15),(2.6,-2.25),(3.3,-2.37),(-2.4,-3.15),(-1.5,-3),(0,-3),(1.5,-3),(2.4,-3.15),(-1.3,-3.8),(0,-4),(1.3,-3.8),(0,-5)]#元组中的两个数字是第i（从0开始计数）个点的坐标
#这一步固定了点的位置，这里最前面两个重复是因为pos是从0开始的，而上面我的节点是从1开始的。
# print(len(pos))
# nx.draw_networkx_edges(G,pos,edge_color='black',alpha=0.8,width=[float(v['weight']*20) for (r,c,v) in G.edges(data=True)])##edge size
de = nx.draw_networkx_edges(G,pos,alpha=0.8,edge_color=[float(v['weight']*30) for (r,c,v) in G.edges(data=True)],edge_cmap=cm1,width=4)##edge color
#按照边的权重绘制边的宽度
dn = nx.draw_networkx_nodes(G,pos,node_color=[2*jj[1] for jj in G.degree()],cmap=cm)
nx.draw_networkx_labels(G,pos)
plt.colorbar(de)
plt.colorbar(dn)
plt.savefig('a.png')
plt.show()